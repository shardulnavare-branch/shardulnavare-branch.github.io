<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>SN Branch Sample Website</title>


  <!-- Branch metatags -->
  <meta name="branch:deeplink:type" content="type can be set by hosting metatags" />


  <script>
    // load Branch
    (function(b, r, a, n, c, h, _, s, d, k) {
      if (!b[n] || !b[n]._q) {
        for (; s < _.length;) c(h, _[s++]);
        d = r.createElement(a);
        d.async = 1;
        d.src = "https://cdn.branch.io/branch-latest.min.js";
        k = r.getElementsByTagName(a)[0];
        k.parentNode.insertBefore(d, k);
        b[n] = h
      }
    })(window, document, "script", "branch", function(b, r) {
        b[r] = function() {
          b._q.push([r, arguments])
        }
      }, {
        _q: [],
        _v: 1
      },
      "addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent disableTracking"
      .split(" "), 0);
    // init Branch
    // Poitning to Shardul Sandbox
    branch.init('key_live_hhGTGV2GqyKIRchAQJHOlpmiyCd3xPfm');
  </script>

</head>

<body>

  <button onclick="logEvent()">Log event</button>

  <script>
    function logEvent() {
      var event_and_custom_data = {
        "transaction_id": "tras_Id_1234",
        "description": "Preferred purchase",
        "registration_id": "12345"
      };

      var customer_event_alias = "sn custom alias";

      branch.logEvent(
        "COMPLETE_REGISTRATION",
        event_and_custom_data,
        content_items,
        customer_event_alias,
        function(err) {
          console.log(err);
        }
      );
    }
  </script>


</body>

</html>
